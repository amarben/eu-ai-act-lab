# =================================================================
# EU AI Act Implementation Lab - Production Environment Variables
# =================================================================
#
# SECURITY: Never commit actual .env files to version control!
# Copy this file to .env.production and fill in real values
#
# For Vercel deployment, set these in Project Settings → Environment Variables
# For AWS/Docker deployment, use your secrets management service
# =================================================================

# =================================================================
# DATABASE CONFIGURATION (Required)
# =================================================================

# PostgreSQL connection string
# Production options:
# - Vercel Postgres: Automatically provided by Vercel
# - Neon: https://neon.tech (serverless PostgreSQL)
# - Supabase: https://supabase.com
# - AWS RDS: https://aws.amazon.com/rds/
DATABASE_URL="postgresql://username:password@host:5432/database?sslmode=require"

# Direct database URL for Prisma migrations (usually same as DATABASE_URL)
DIRECT_URL="postgresql://username:password@host:5432/database?sslmode=require"

# =================================================================
# AUTHENTICATION (Required)
# =================================================================

# NextAuth.js configuration
# IMPORTANT: Generate a strong secret with: openssl rand -base64 32
NEXTAUTH_SECRET="REPLACE_WITH_STRONG_RANDOM_SECRET_FROM_OPENSSL"

# Your production domain (must include https://)
# Example: https://eu-ai-act-lab.vercel.app
NEXTAUTH_URL="https://your-production-domain.com"

# =================================================================
# AI INTEGRATION (Required)
# =================================================================

# Google Gemini API Key
# Get from: https://aistudio.google.com/app/apikey
# SECURITY: Rotate this key regularly and never commit to git
GEMINI_API_KEY="your-new-gemini-api-key-here"

# =================================================================
# EMAIL SERVICE (Required for production)
# =================================================================

# OPTION 1: Resend (Recommended - https://resend.com)
EMAIL_FROM="noreply@your-domain.com"
RESEND_API_KEY="re_your_resend_api_key"

# OPTION 2: SendGrid (Alternative - https://sendgrid.com)
# EMAIL_FROM="noreply@your-domain.com"
# SENDGRID_API_KEY="SG.your_sendgrid_api_key"

# OPTION 3: SMTP (Generic)
# SMTP_HOST="smtp.your-provider.com"
# SMTP_PORT="587"
# SMTP_USER="your-smtp-username"
# SMTP_PASSWORD="your-smtp-password"
# EMAIL_FROM="noreply@your-domain.com"

# =================================================================
# ERROR TRACKING & MONITORING (Highly Recommended)
# =================================================================

# Sentry DSN for error tracking
# Get from: https://sentry.io/settings/projects/
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# Sentry environment name
SENTRY_ENVIRONMENT="production"

# Sentry authentication token (for source maps upload)
# SENTRY_AUTH_TOKEN="your-sentry-auth-token"

# =================================================================
# ANALYTICS (Optional but Recommended)
# =================================================================

# Plausible Analytics (Privacy-friendly)
# Get from: https://plausible.io
PLAUSIBLE_DOMAIN="your-domain.com"

# Alternative: Umami Analytics
# UMAMI_WEBSITE_ID="your-umami-website-id"

# =================================================================
# STORAGE & CDN (Optional)
# =================================================================

# Cloudflare R2 or AWS S3 for file storage (demo videos, exports)
# AWS_ACCESS_KEY_ID="your-aws-access-key"
# AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
# AWS_REGION="us-east-1"
# AWS_S3_BUCKET="your-bucket-name"

# Cloudflare R2 (S3-compatible)
# R2_ACCESS_KEY_ID="your-r2-access-key"
# R2_SECRET_ACCESS_KEY="your-r2-secret-key"
# R2_ENDPOINT="https://your-account-id.r2.cloudflarestorage.com"
# R2_BUCKET="your-bucket-name"

# =================================================================
# CACHING (Optional - Performance Optimization)
# =================================================================

# Upstash Redis for caching
# Get from: https://upstash.com
# UPSTASH_REDIS_REST_URL="https://your-redis-url.upstash.io"
# UPSTASH_REDIS_REST_TOKEN="your-redis-token"

# =================================================================
# RATE LIMITING (Recommended for Production)
# =================================================================

# Gemini API rate limiting
GEMINI_RATE_LIMIT_PER_MINUTE="60"
GEMINI_RATE_LIMIT_PER_DAY="1500"

# API rate limiting (requests per IP)
API_RATE_LIMIT_PER_MINUTE="100"

# =================================================================
# APPLICATION CONFIGURATION
# =================================================================

# Node environment
NODE_ENV="production"

# Application URL (same as NEXTAUTH_URL for consistency)
NEXT_PUBLIC_APP_URL="https://your-production-domain.com"

# Enable demo mode features (set to "false" in production)
NEXT_PUBLIC_DEMO_MODE="false"

# =================================================================
# SECURITY HEADERS & CORS
# =================================================================

# Allowed CORS origins (comma-separated)
# Example: "https://your-domain.com,https://www.your-domain.com"
ALLOWED_ORIGINS="https://your-production-domain.com"

# =================================================================
# FEATURE FLAGS (Optional)
# =================================================================

# Enable/disable specific features
FEATURE_FLAG_GEMINI_AI="true"
FEATURE_FLAG_DOCUMENT_EXPORT="true"
FEATURE_FLAG_EMAIL_NOTIFICATIONS="true"

# =================================================================
# LOGGING (Optional but Recommended)
# =================================================================

# Log level: error, warn, info, http, verbose, debug, silly
LOG_LEVEL="info"

# =================================================================
# BACKUP & DISASTER RECOVERY
# =================================================================

# Database backup schedule (handled by provider or custom script)
# Document backup strategy in DEPLOYMENT_GUIDE.md

# =================================================================
# DEPLOYMENT NOTES
# =================================================================
#
# VERCEL DEPLOYMENT:
# 1. Go to Project Settings → Environment Variables
# 2. Add each variable above (except commented ones you don't need)
# 3. Select "Production" environment
# 4. DATABASE_URL is auto-populated if using Vercel Postgres
#
# AWS/DOCKER DEPLOYMENT:
# 1. Use AWS Secrets Manager or Parameter Store
# 2. Mount secrets as environment variables
# 3. See DEPLOYMENT_GUIDE.md for detailed instructions
#
# SECURITY CHECKLIST:
# ✓ Generated strong NEXTAUTH_SECRET with openssl
# ✓ Rotated Gemini API key from exposed development key
# ✓ Configured HTTPS with valid SSL certificate
# ✓ Set up error tracking with Sentry
# ✓ Configured email service for notifications
# ✓ Enabled rate limiting for API protection
# ✓ Set allowed CORS origins
#
# =================================================================
